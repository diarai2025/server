# Настройка OpenAI API

## Шаг 1: Получение API ключа

1. Зарегистрируйтесь или войдите на [platform.openai.com](https://platform.openai.com)
2. Перейдите в раздел **API keys** (https://platform.openai.com/api-keys)
3. Нажмите **Create new secret key**
4. Скопируйте ключ (он показывается только один раз!)

## Шаг 2: Добавление ключа в .env

Откройте файл `server/.env` и добавьте:

```env
# OpenAI API Configuration
OPENAI_API_KEY=sk-your-api-key-here
```

**Важно:** Замените `sk-your-api-key-here` на ваш реальный API ключ.

## Шаг 3: Перезапуск сервера

После добавления ключа перезапустите сервер:

```bash
# Остановите текущий сервер (Ctrl+C)
# Затем запустите снова
npm run dev
```

## Что делает GPT API?

После настройки OpenAI API система будет использовать GPT для:

1. **Анализа категории кампании** - более точное определение типа бизнеса
2. **Генерации текстов объявлений** - уникальные, привлекательные тексты для каждой кампании
3. **Создания рекомендаций** - персонализированные советы по оптимизации

## Fallback режим

Если API ключ не настроен, система автоматически использует встроенную логику (fallback), которая также работает, но менее умная.

## Стоимость

OpenAI API платный, но для тестирования обычно достаточно бесплатных кредитов:
- GPT-4o-mini (используется в проекте) - очень дешевая модель
- Примерная стоимость: ~$0.15 за 1M токенов входных данных
- Один запрос обычно стоит менее $0.001

## Безопасность

⚠️ **НИКОГДА** не коммитьте `.env` файл в git! Он уже в `.gitignore`.

## Проверка работы

После настройки при создании кампании вы увидите более качественные тексты и рекомендации, сгенерированные GPT.

